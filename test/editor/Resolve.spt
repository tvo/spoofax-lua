language Lua
module editor_Resolve

start symbol Chunk

test global variable [[
  [[x]] = 12
  [[x]] = 13
]]
resolve #2 to #1

test global function [[
  function [[fun]]() end
  [[fun]]()
]]
resolve #2 to #1

test local variable [[
  local [[x]]
  [[x]] = 12
]]
resolve #2 to #1

test local function [[
  local function [[fun]]() end
  [[fun]]()
]]
resolve #2 to #1

test scope/chunk (1) [[
  local [[x]]
  do
    [[x]] = 12
    local x
  end
]]
resolve #2 to #1

test scope/chunk (2) [[
  local x
  do
    local [[x]]
    [[x]] = 12
  end
]]
resolve #2 to #1

test scope/forloop [[
  for [[x]]=1,10 do
    [[x]] = 12
  end
]]
resolve #2 to #1

test scope/foreachloop [[
  for [[x]] in pairs(t) do
    [[x]] = 12
  end
]]
resolve #2 to #1

test repeat loop condition [[
  local x
  repeat
    local [[x]]
  until [[x]]
]]
resolve #2 to #1

test shadowing [[
  local [[x]]
  local x = [[x]]
]]
resolve #2 to #1
